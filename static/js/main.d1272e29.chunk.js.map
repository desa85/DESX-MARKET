{"version":3,"sources":["components/Main.js","components/Footer.js","components/Money.js","components/User.js","components/Pages.js","components/Paginator.js","components/Users.js","components/Item.js","components/Modal.js","components/Inventory.js","components/Menu.js","components/ChoseAvatar.js","helper.js","components/Profile.js","components/Header.js","components/Order.js","components/Shop.js","components/Authorization.js","components/Login.js","data/db.js","data/UserDatabase.js","data/ItemDatabase.js","data/UserItemDatabase.js","data/OrderDatabase.js","components/Balance.js","App.js","serviceWorker.js","index.js"],"names":["Main","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","user","getCurrentUser","react_default","a","createElement","Redirect","to","Component","Footer","id","href","target","Money","className","style","flexDirection","display","overflow","textOverflow","maxWidth","money","User","background","concat","userAvatar","userName","components_Money","cash","Pages","_this","currentPage","Array","count","fill","map","x","i","currentMark","pages","pagesOutput","filter","item","isLeftEdge","isRightEdge","length","toConsumableArray","_this2","countPages","Math","ceil","datasLen","contentСoverage","viewPages","page","Link","path","onClick","e","preventDefault","Paginator","datas","lastPage","startElement","slice","children","components_Pages","Users","state","loginFilter","moneyFilterFrom","moneyFilterTo","sortBy","db","CREATED","typeSort","byDate","byNumber","MONEY","byString","LOGIN","type","FILTER_SEARCH","value","moneyFilter","FILTER_FROM_TO","from","users","filteredData","filters","login","components_User","avatar","components_Header","components_Paginator","placeholder","onChange","setState","name","for","components_Footer","_this3","radio","document","getElementsByClassName","_loop","addEventListener","Item","src","img","orderPrice","onClickCancel","onClickSell","Modal","view","toggle","Inventory","modalItemName","modalItemIconPath","modalInput","modalUserItemId","isModalSell","isModalConfirm","items","itemsInfo","userItem","getItems","orders","order","newOrders","itemInfo","find","userItemId","components_Item","iconPath","price","toggleModal","bind","cancel","itemName","itemIconPath","addOrder","components_Modal","autofocus","match","clickModal","Shop","Menu","isActive","ChoseAvatar","isScroll","prevSwipeClientX","pointer","slider","avatarsCount","сountShowAvatars","avatarNumber","selectedAvatar","selectAvatar","next","chose","back","index","abs","change","touches","clientX","setTimeout","deltaY","_this4","onWheel","wheel","onTouchMove","justifyContent","key","helper","b","round","search","validateString","Profile","modalView","inputName","errorMessage","getId","changeData","sessionUserId","updateUser","isExistUser","changeName","toggleModalView","fixPoint","sessionStorage","clear","components_ChoseAvatar","chosePoint","click","Header","components_Menu","components_Profile","isSell","isUserSession","orderId","toSell","color","isModal","modalValue","actions","getItemsInventory","values","sort","modal","userBalance","lacks","PRICE","components_Order","Authorization","isRedirect","validateLogin","class","userDb","userId","insert","Date","now","present","updateCurrentUser","checkValidateLogin","Login","components_Authorization","window","Telegram","WebApp","initData","margin","initDataUnsafe","first_name","second_name","uuid","require","DataBase","dataName","_datas","JSON","parse","localStorage","getItem","SORT_BY_DATE","SORT_BY_NUMBER","SORT_BY_STRING","action","data","filterDatas","sortDatas","element","toUpperCase","includes","fromTo","entries","reduce","accumulator","_ref","_ref2","slicedToArray","_ref3","_ref4","firstArg","secondArg","setItem","stringify","dates","arg","arguments","forEach","undefined","push","commitСhanges","random","result","UserDatabase","AVATAR","toLowerCase","isEmpty","bot","userMoney","get","prototype","ItemDatabase","UserItemDatabase","itemDb","itemId","presents","getByColumn","pushSameValue","addItem","arrIds","Order","userItemDb","itemUserId","dateNow","prices","status","sellerId","sellerBalance","NORMAL","Balance","input","err","val","reg","getCash","cashValidate","addMoney","norm","clickButton","success","error","render","FakeUserIds","generateFakeUsers","generateItems","presentAllUsers","OrderDb","generateOrders","App","components_Login","shop","components_Shop","params","inventory","components_Inventory","components_Users","HashRouter","Switch","Route","exact","components_Main","component","components_Balance","Boolean","location","hostname","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d1272e29.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport { Route, Redirect } from 'react-router'\n\nclass Main extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      !this.props.user.getCurrentUser() ? \n      <Redirect to=\"/login\" /> : <Redirect to=\"/shop\" />\n    )\n  }\n}\n\nexport default Main","import React, {Component} from 'react'\n\nclass Footer extends Component {\n  render() {\n    return (\n      <footer id = 'footer'>\n        <div>\n        <p>85desa@gmail.com</p>\n        <p><a href = 'https://github.com/desa85/DESX-MARKET' target='_blank'>github.com/desa85</a></p>\n        </div>\n        <div>\n          <p>Все права защищены</p>\n        </div>\n        <div>\n          <p>DESX.SU 2019</p>\n        </div>\n      </footer>\n    )\n  }\n}\n\nexport default Footer","import React, {Component} from 'react'\nclass Money extends Component {\n\n  render() {\n    return (\n      <div \n        className = {this.props.className} \n        id = {this.props.className}\n        style = { {flexDirection: \"row\"} }\n      >\n        <div style = { {display: 'inline-block', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: '70%'} }>{this.props.money}</div>\n        <span className = 'money'></span>\n      </div>\n    )\n  }\n}\n\nexport default Money","import React, { Component } from 'react'\nimport Money from './Money'\n\nclass User extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div className = 'user-block'>\n        <div className = 'user-block__avatar' style = { {background: `url('./avatars/${this.props.userAvatar}.jpg') 0% 0% / cover`} }>\n        </div>\n        <div className = 'user-block__name'>\n          {this.props.userName}\n        </div>\n        <Money className = 'user-block__cash' money = {this.props.cash} />\n      </div>\n    )\n  }\n}\n\nexport default User\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\n\nclass Pages extends Component {\n  constructor(props) {\n    super(props)\n    this.currentPage = +this.props.currentPage\n  }\n\n  range() {\n    return Array(this.props.count).fill(0).map((x, i) => i + 1)\n  }\n\n  viewPages(currentMark, pages) {\n    const pagesOutput = [currentMark - 1, currentMark, currentMark +1].filter(item => (item > 1 && item < pages))\n    const isLeftEdge = pagesOutput[0] > 2\n    const isRightEdge = pagesOutput[pagesOutput.length - 1] < pages - 1\n    const space = '...'\n\n    return [1, !!isLeftEdge && space,  ...pagesOutput, !!isRightEdge && space, pages].filter(item => item)\n  }\n\n  render() {\n    const countPages = Math.ceil(this.props.datasLen / this.props.contentСoverage)\n    const currentPage = (+this.props.currentPage > countPages || +this.props.currentPage < 1) ? 1 : +this.props.currentPage\n\n    return ((countPages > 1) &&\n      <div className = 'pages'>\n        {this.viewPages(currentPage, countPages).map(page => <Link to = {`${this.props.path}/${page}`} onClick = {e => (page === '...') && e.preventDefault()} className = {`pages__link ${(page === currentPage) ? 'pages__link_active' : ''}`}>{page}</Link>)}\n      </div>\n    )\n  }\n}\n\nexport default Pages","import React, {Component} from 'react' \nimport Pages from './Pages'\n\nclass Paginator extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const contentСoverage = 6\n    const datasLen = this.props.datas.length\n    const lastPage = Math.ceil(datasLen / contentСoverage)\n    const startElement = (+this.props.page > lastPage || !+this.props.page) ? 0 : (+this.props.page - 1) * contentСoverage\n    const datas = this.props.datas.slice(startElement, startElement + contentСoverage)\n    return(\n      <div>\n        {this.props.children}\n        <div id = 'pagination-wrapper'>\n          {datas}\n          <Pages currentPage = {this.props.page || 1} datasLen = {datasLen} path = {this.props.path} contentСoverage = {contentСoverage} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Paginator","import React, { Component } from 'react'\nimport { Redirect } from 'react-router'\nimport Header from './Header'\nimport Footer from './Footer'\nimport User from './User.js'\nimport Pages from './Pages.js'\nimport Paginator from './Paginator.js'\n\nclass Users extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loginFilter: '',\n      moneyFilterFrom: '',\n      moneyFilterTo: '',\n      sortBy: this.props.db.user.CREATED\n    }\n  }\n\n  render() {\n\n    const typeSort =  {\n      byDate: this.props.db.user.CREATED,\n      byNumber: this.props.db.user.MONEY,\n      byString: this.props.db.user.LOGIN\n    }\n    const loginFilter = {\n      type: this.props.db.user.FILTER_SEARCH,\n      value: this.state.loginFilter\n    }\n    const moneyFilter = {\n      type: this.props.db.user.FILTER_FROM_TO,\n      from: this.state.moneyFilterFrom,\n      to: this.state.moneyFilterTo\n\n    }\n    const users = this.props.db.user.filteredData({\n      filters: {\n        login: loginFilter, \n        money: moneyFilter\n      },\n      sortBy: this.state.sortBy\n    }).map(user => <User userAvatar = {user.avatar} userName = {user.login} cash = {user.money} />)\n\n      return (\n        !this.props.db.user.getCurrentUser() ?\n        <Redirect to=\"/login\" /> :\n        <div>\n          <Header user = {this.props.user} path = {Users.path} db = {this.props.db} />\n          <div id = 'content'>\n            <Paginator page = {this.props.page} datas = {users} path = {Users.path}>\n              <div>\n                <div className = 'filter'>\n                  <div>\n                    <input placeholder = 'Ник' className = 'filter__input filter__input_full' value = {this.state.loginFilter} onChange = {e => this.setState({loginFilter: e.target.value})} />\n                  </div>\n                  <div>\n                    <span>Баланс от</span>\n                    <input placeholder = '0' className = 'filter__input' value = {this.state.moneyFilterFrom} onChange = {e => this.setState({moneyFilterFrom: e.target.value})} />\n                  </div>\n                  <div>\n                    <span>до</span>\n                    <input placeholder = '999' className = 'filter__input' value = {this.state.moneyFilterTo} onChange = {e => this.setState({moneyFilterTo: e.target.value})} />\n                  </div>           \n                </div>\n                <div className = 'filter'>\n                  <input type = 'radio' name = 'filter' id = {typeSort.byDate}  className = 'filter__radio' />\n                  <label for = {typeSort.byDate} className = 'filter__button'>ПО ДАТЕ</label>\n                  <input type = 'radio' name = 'filter' id = {typeSort.byString} className = 'filter__radio' />\n                  <label for = {typeSort.byString} className = 'filter__button'>ПО НИКУ</label>\n                  <input type = 'radio' name = 'filter' id = {typeSort.byNumber} className = 'filter__radio' />\n                  <label for = {typeSort.byNumber} className = 'filter__button'>ПО БАЛАНСУ</label>\n                </div>\n              </div>\n            </Paginator>\n            </div>\n          <Footer />\n        </div>\n    )\n  }\n\n  componentDidMount() {\n    const radio = document.getElementsByClassName('filter__radio')\n      for (let i = 0; i <= radio.length -1; i++) {\n        radio[i].addEventListener('change', () => this.setState({sortBy: radio[i].id}))\n      }\n  }\n}\n\nUsers.path = '/users'\n\nexport default Users\n","import React, { Component } from 'react'\nimport Money from './Money'\n\nclass Item extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  render() {\n    return (\n      <div className = 'item'>\n        <div className = 'item__name'>{this.props.name}</div>\n        <div className = 'item__img'><img src = {this.props.img} /></div>\n        <button className = {`item__sell ${this.props.orderPrice ? 'item__sell_active' : ''}`} onClick = {this.props.orderPrice ? () => this.props.onClickCancel() : () => this.props.onClickSell()} >\n          {this.props.orderPrice ? <span>Снять с продажи<Money money = {this.props.orderPrice} /></span> : 'Продать'}\n         \n        </button>\n      </div>\n    )\n  }\n}\n\nexport default Item","import React, { Component } from 'react'\n\nclass Modal extends Component {\n  render () {\n    return (\n      !this.props.view ?\n      <div></div> :\n      <div className = 'shadow' onClick = {e => e.target.className === 'shadow' && this.props.toggle()}>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport default Modal","import React, { Component } from 'react'\nimport { Redirect } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport Item from './Item.js'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Paginator from './Paginator.js'\nimport Money from './Money.js'\nimport Modal from './Modal.js'\nimport Shop from './Shop.js'\n\nclass Inventory extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modalItemName: '',\n      modalItemIconPath: '',\n      modalInput: '',\n      modalUserItemId: '',\n      isModalSell: false,\n      isModalConfirm: false,\n      items: this.items()\n    }\n  }\n  items() {\n    const user = this.props.user || {}\n    const itemsInfo = this.props.db.userItem.getItems(user.id)\n    const orders = this.props.db.order.newOrders(user.id)\n    return itemsInfo.map(itemInfo => {\n      const order = (orders.find(order => itemInfo.userItemId === order.userItemId) || {})\n      return (<Item \n        name = {itemInfo.item.name} \n        img = {itemInfo.item.iconPath} \n        orderPrice = {order.price}\n        onClickSell = {() => this.toggleModal.bind(this)(itemInfo.item.name, itemInfo.item.iconPath, itemInfo.userItemId)} \n        onClickCancel = {() => {this.props.db.order.cancel(order.id); this.setState({items: this.items()})}}\n      />)\n    })\n  }\n  \n  toggleModal(itemName, itemIconPath, userItemId) {\n      this.setState({\n        isModalSell: !this.state.isModalSell,\n        modalItemName: itemName,\n        modalItemIconPath: itemIconPath,\n        modalUserItemId: userItemId,\n        modalInput: ''\n      })\n  }\n\n  clickModal() {\n    this.toggleModal()\n    this.props.db.order.addOrder(this.state.modalUserItemId, +this.state.modalInput)\n  }\n  \n  render() {\n    return(\n      !this.props.db.user.getCurrentUser() ? \n      <Redirect to=\"/login\" /> :\n      <div>\n        <Modal view = {this.state.isModalSell} toggle = {() => this.setState( {isModalSell: !this.state.isModalSell} )} >\n          <div className = 'modal-inventory'>\n            <div className = 'modal-inventory__name'>{this.state.modalItemName}</div>\n            <div className = 'modal-inventory__img'><img src = {this.state.modalItemIconPath} /></div>\n            <input\n              className = 'modal-inventory__input'\n              autofocus = \"true\"\n              value = {this.state.modalInput} \n              onChange = {e => {\n                let value = e.target.value \n                this.setState({modalInput: value})\n              }} />\n              <button className = 'modal-inventory__button'\n                onClick = {() => {\n                  if (!this.state.modalInput.match(/^[0-9]+(\\.[0-9]{1,2})?$/i) || +this.state.modalInput === 0) return\n                  this.clickModal.bind(this)() \n                  this.setState({\n                    items: this.items(),\n                    isModalConfirm: true\n                })}} \n              >\n                <Money money = {`продать за ${+this.state.modalInput || 0} `} />\n              </button>\n          </div>\n        </Modal>\n        <Modal view = {this.state.isModalConfirm} toggle = {() => this.setState( {isModalConfirm: !this.state.isModalConfirm} )} >\n        <div className = 'modal-inventory'>\n          <div className = 'modal-inventory__err'>\n              <h1>Ваш предмет выставлен на продажу в разделе <Link to = {Shop.path} className = 'link'>Магазин</Link></h1>\n              <button className = 'modal-inventory__button' onClick = {() => this.setState( {isModalConfirm: !this.state.isModalConfirm} )}>ок</button>\n          </div>\n        </div>\n        </Modal>\n        <Header user = {this.props.user} path = {Inventory.path} db = {this.props.db} />\n        <div id = 'content'>\n          <Paginator datas = {this.state.items} page = {this.props.page} path = {Inventory.path} />\n        </div>\n        <Footer />\n      </div>\n    )\n  }\n}\n\nInventory.path = '/inventory'\n\nexport default Inventory","import React, {Component} from 'react'\nimport { Link } from 'react-router-dom'\nimport Shop from './Shop.js'\nimport Users from './Users.js'\nimport Inventory from './Inventory.js'\n\nclass Menu extends Component {\n  isActive(path) {\n    return (this.props.path === path) ? 'menu__li_active' : ''\n  }\n\n  render() {\n    return (\n      <ul className = 'menu'>\n        <li><Link to = {Shop.path} className = {'menu__li ' + this.isActive(Shop.path)} >Магазин</Link></li>\n        <li><Link to = {Users.path } className = {'menu__li ' + this.isActive(Users.path)} >Пользователи</Link></li>\n        <li><Link to = {Inventory.path} className = {'menu__li ' + this.isActive(Inventory.path)} >Инвентарь</Link></li>\n      </ul>\n    )\n  }\n}\n\nexport default Menu","import React, { Component } from 'react'\n\nclass ChoseAvatar extends Component {\n  constructor(props) {\n    super(props)\n\n    this.isScroll = true\n    this.prevSwipeClientX = null\n    this.state = {\n      pointer: new this.slider(9, 5, this.props)\n    }\n  }\n\n  slider(avatarsCount, сountShowAvatars, props) {\n    var avatarNumber = +props.selectedAvatar > 2 ? +props.selectedAvatar - 2 : +props.selectedAvatar + avatarsCount - 2\n\n    this.selectAvatar = () => (avatarNumber + 2) % avatarsCount || avatarsCount\n    this.next = () => {\n      avatarNumber === avatarsCount ? avatarNumber = 1 : avatarNumber++\n      props.chose(this.selectAvatar())\n    }\n    this.back = () => {\n      avatarNumber === 1 ? avatarNumber = avatarsCount : avatarNumber--\n      props.chose(this.selectAvatar())\n    }\n    this.сountShowAvatars = () => Array(сountShowAvatars).fill(true).map((x, i) => {\n      return {\n        index: (i + avatarNumber) % avatarsCount || avatarsCount,\n        style: -Math.abs(i - 2) + 2\n      }\n    })\n    this.change = value => {\n      avatarNumber = value > 2 ? value - 2 : value + avatarsCount - 2\n      props.chose(this.selectAvatar())\n      return 1\n    }\n  }\n\n  wheel(e) {\n    if (this.isScroll) {\n      if (e.touches && this.prevSwipeClientX === null) {\n        this.prevSwipeClientX = e.touches[0].clientX\n      } else if (e.touches) {\n        const isRightSwipe = e.touches[0].clientX - this.prevSwipeClientX > 0\n        isRightSwipe ? this.state.pointer.back() : this.state.pointer.next()\n        this.prevSwipeClientX = null\n        this.isScroll = !this.isScroll\n        setTimeout(() => this.isScroll = !this.isScroll, 400)\n      } else {\n        e.deltaY < 0 ? this.state.pointer.back() : this.state.pointer.next()\n        this.setState({pointer: this.state.pointer})\n        this.isScroll = !this.isScroll\n        setTimeout(() => this.isScroll = !this.isScroll, 200)\n      }\n      this.setState({pointer: this.state.pointer})\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className = {this.props.className}\n        onWheel = {e => this.wheel.bind(this, e)() }\n        onTouchMove = {e => this.wheel.bind(this, e)()}\n        style = {(this.state.pointer >= 0) ? {} : {justifyContent: 'flex-end'} }\n      >\n        {this.state.pointer.сountShowAvatars().map(avatar => {\n          return (\n            <div\n              key = {avatar.index}\n              style = { {background: `url('./avatars/${avatar.index}.jpg') 0% 0% / cover`} }\n              className = {`round round__${avatar.style}` }\n              onClick = {() => this.state.pointer.change(avatar.index) && this.setState({pointer: this.state.pointer})}\n            >\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default ChoseAvatar\n","const validateString = (value) => {\n    let reg = /^[A-z0-9_.]+$/g\n    let result = value.search(reg)\n    return !!~result\n  }\n\nexport default {\n    sumMoney: (a, b) => Math.round(a * 100 + b * 100)/100,\n    validateString: value => validateString(value)\n}","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom'\nimport Money from './Money'\nimport Modal from './Modal.js'\nimport ChoseAvatar from './ChoseAvatar.js'\nimport helper from '../helper.js'\n\nclass Profile extends Component {\n  constructor(props) {\n      super(props)\n      this.state = {\n        modalView: false,\n        selectedAvatar: this.props.db.user.getCurrentUser().avatar,\n        inputName: '',\n        errorMessage: '',\n      }\n  }\n\n  isExistUser(name) {\n    return !!this.props.db.user.getId(name)\n  }\n\n  fixPoint(value) {\n    let user = this.props.db.user\n    user.changeData(user.sessionUserId(), 'avatar', value)\n  }\n\n  chosePoint(value) {\n    this.setState({selectedAvatar: value})\n    return 1\n  }\n\n  toggleModalView() {\n    this.setState({\n      modalView: !this.state.modalView,\n      inputName: '',\n      errorMessage: ''\n    })\n  }\n\n  changeName(value) {\n    const user = this.props.db.user.sessionUserId()\n    this.props.db.user.changeData(user, 'login', value)\n    this.props.db.updateUser()\n  }\n\n  click() {\n    const NICK_VALIDATION_ERROR = 'Невалидные данные'\n    const NICK_ALREADY_EXISTS_ERROR = 'Такой ник уже существует'\n    let errorMessage = ''\n\n    if(this.state.inputName) {\n      this.state.errorMessage && this.setState( {errorMessage: ''} )\n      !helper.validateString(this.state.inputName) && (errorMessage = NICK_VALIDATION_ERROR) ||\n      this.isExistUser(this.state.inputName) && (errorMessage = NICK_ALREADY_EXISTS_ERROR)\n      !errorMessage && this.changeName.bind(this)(this.state.inputName)\n    }\n    if (!errorMessage) {\n      this.toggleModalView()\n      this.fixPoint(this.state.selectedAvatar)\n    }\n    this.setState( {errorMessage: errorMessage} )\n  }\n\n  render() {\n    return (\n      <div>\n        <div id = 'profile'>\n          <div>\n            <div id = 'profile__username'>{this.props.userName}</div>\n            <Money id = 'profile__cash' money = {this.props.cash} />\n          </div>\n          <div id = 'profile__avatar' style = { {background: `url('./avatars/${+this.props.db.user.getCurrentUser().avatar}.jpg') 0% 0% / cover`} } >\n\n          </div>\n        </div>\n        <ul className = 'dropdown'>\n          <li>\n            <Link to = '/balance'\n              className = 'dropdown__a'>\n                ПОПОЛНИТЬ БАЛАНС\n            </Link>\n          </li>\n          <li>\n            <Link to = ''\n              className = 'dropdown__a'\n                onClick = { e => {e.preventDefault(); this.toggleModalView.bind(this)()} }>\n              НАСТРОЙКИ\n            </Link>\n          </li>\n          <li>\n            <Link to = ''\n              className = 'dropdown__a'  onClick = {() => sessionStorage.clear()}>\n              ВЫЙТИ\n            </Link>\n          </li>\n        </ul>\n        <Modal view = {this.state.modalView} toggle = {this.toggleModalView.bind(this)}>\n          <div className = 'small-windiow'>\n            <div className = 'small-windiow__header'>НАСТРОЙКИ</div>\n            <ChoseAvatar\n              selectedAvatar = {this.state.selectedAvatar}\n              chose = {this.chosePoint.bind(this)}\n              className = 'small-windiow__avatars'\n            />\n            <input\n              className = 'small-windiow__input'\n              placeholder = 'NAME'\n              value = {this.state.inputName}\n              onChange = {e => this.setState( {inputName: e.target.value} )}\n            />\n            <div className = 'small-windiow__err-message'>{ this.state.errorMessage }</div>\n            <button\n              className = {'small-windiow__button'}\n              onClick = {() => this.click.bind(this)()}>\n              Сохранить\n            </button>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nexport default Profile\n","import React, {Component} from 'react';\nimport Menu from './Menu.js';\nimport Profile from './Profile.js';\n\nclass Header extends Component {\n  render() {\n    return (\n      <div id = \"header\">\n        <div id = \"header__logo\">DESX</div>\n        <Menu path = {this.props.path}/>\n        <Profile userName = {this.props.user.login} cash = {this.props.user.money} db = {this.props.db}/>\n      </div>\n    )\n  }\n}\n\nexport default Header","import React, { Component } from 'react'\nimport Money from './Money'\n\nclass Item extends Component {\n  constructor(props) {\n    super(props)\n  }\n  \n  render() {\n    return (\n      <div className = 'item'>\n        <div className = 'item__name'>{this.props.name}</div>\n        <div className = 'item__img'><img src = {this.props.img} /></div>\n        <div className = 'item__buy' onClick = {() => {\n          const isSell = this.props.isUserSession ? \n            this.props.db.order.cancel(this.props.orderId) : \n            this.props.db.order.toSell(this.props.orderId, this.props.db.user.sessionUserId())\n          this.props.toggleModal(isSell)\n        }} >\n            <Money money = {this.props.price}  className = 'item__price' />\n            <button className = 'item__button' style = { this.props.isUserSession ? {color: '#ff8800'} : {} } >{!this.props.isUserSession ? 'КУПИТЬ' : 'Снять с продажи'}</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Item","import React, {Component} from 'react'\nimport { Redirect, Router, Route } from 'react-router'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Pages from './Pages'\nimport Order from './Order'\nimport Paginator from './Paginator'\nimport Money from './Money.js'\n\nclass Shop extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isModal: false,\n      modalValue: {},\n      loginFilter: '',\n      moneyFilterFrom: '',\n      moneyFilterTo: '',\n      sortBy: 'none'\n    }\n  }\n\n  items(actions) {\n    return this.props.db.order.getItemsInventory(this.props.db.user.sessionUserId(), actions)\n      .map(item => {\n        return {name: item.name, iconPath: item.iconPath, price: item.price, orderId: item.orderId, isUserSession: item.isUserSession}\n      })\n  }\n\n  toggleModal(values) {\n      this.setState({\n        isModal: !!values,\n        modalValue: values || {}\n      })\n  }\n\n  sortOut(sort){\n    this.setState({\n      sortBy: sort\n    })\n  }\n\n  render() {\n    const modal = (\n      <div className = 'shadow' onClick = {e => {if (e.target.className === 'shadow') this.toggleModal.bind(this)()}} >\n        <div className = 'modal-inventory'>\n          <div className = 'modal-inventory__err'>\n              <p><h3>Недостаточно средств</h3></p>\n              <div >\n                <p className = 'modal-inventory__info'>Ваш Баланс: <Money money = {this.state.modalValue.userBalance} /></p>\n                <p className = 'modal-inventory__info'>Стоимость предмета: <Money money = {this.state.modalValue.price} /></p>\n              </div>\n              <p>Вам не хватает: <Money money = {this.state.modalValue.lacks} /></p>\n              <button className = 'modal-inventory__button' onClick = {this.toggleModal.bind(this, false)}>ок</button>\n          </div>\n        </div>\n      </div>\n    )\n    const typeSort =  {\n      byDate: this.props.db.user.CREATED,\n      byNumber: this.props.db.order.PRICE,\n      byString: this.props.db.user.LOGIN\n    }\n    const loginFilter = {\n      type: this.props.db.user.FILTER_SEARCH,\n      value: this.state.loginFilter\n    }\n    const moneyFilter = {\n      type: this.props.db.user.FILTER_FROM_TO,\n      from: this.state.moneyFilterFrom,\n      to: this.state.moneyFilterTo\n    }\n    const actions = {\n      filters: {\n        login: loginFilter, \n        price: moneyFilter\n      },\n      sortBy: this.state.sortBy\n    } \n\n    const orders = this.items(actions).map(item => <Order \n      db = {this.props.db} \n      userItemId = {item.userItemId} \n      name = {item.name} \n      img = {item.iconPath} \n      price = {item.price} \n      orderId = {item.orderId}\n      toggleModal = {this.toggleModal.bind(this)}\n      isUserSession = {item.isUserSession}\n    />)\n\n    return (\n      !this.props.db.user.getCurrentUser() ?\n      <Redirect to=\"/login\" /> :\n      <div id = 'wrapper'>\n      {this.state.isModal && modal}\n        <div>\n          <Header user = {this.props.user} path = {Shop.path} db = {this.props.db} />\n          {/*TODO refactoring (logic to database)*/}\n          <div id = 'content'>\n            <Paginator datas = {orders} page = {this.props.page} path = {Shop.path}>\n              <div>\n                <div className = 'filter'>\n                  <div>\n                    <input placeholder = 'Предмет' className = 'filter__input filter__input_full' value = {this.state.loginFilter} onChange = {e => this.setState({loginFilter: e.target.value})} />\n                  </div>\n                  <div>\n                    <span>Цена от</span>\n                    <input placeholder = '0' className = 'filter__input' value = {this.state.moneyFilterFrom} onChange = {e => this.setState({moneyFilterFrom: e.target.value})} />\n                  </div>\n                  <div>\n                    <span>до</span>\n                    <input placeholder = '999' className = 'filter__input' value = {this.state.moneyFilterTo} onChange = {e => this.setState({moneyFilterTo: e.target.value})} />\n                  </div>\n                </div>\n                <div className = 'filter'>\n                  <input type = 'radio' name = 'filter' id = {typeSort.byDate} className = 'filter__radio' />\n                  <label for = {typeSort.byDate} className = 'filter__button'>ПО ДАТЕ</label>\n                  <input type = 'radio' name = 'filter' id = {typeSort.byString} className = 'filter__radio' />\n                  <label for = {typeSort.byString} className = 'filter__button'>ПО НАЗВАНИЮ</label>\n                  <input type = 'radio' name = 'filter' id = {typeSort.byNumber} className = 'filter__radio' />\n                  <label for = {typeSort.byNumber} className = 'filter__button'>ПО ЦЕНЕ</label>\n                </div>\n              </div>\n            </Paginator>\n          </div>\n          <Footer />\n        </div>\n      </div>\n  )\n  }\n\n  componentDidMount() {\n    const radio = document.getElementsByClassName('filter__radio')\n      for (let i = 0; i <= radio.length -1; i++) {\n        radio[i].addEventListener('change', () => this.setState({sortBy: radio[i].id}))\n      }\n  }\n}\n\nShop.path = '/shop'\n\nexport default Shop","import React, {Component} from 'react'\nimport ReactDOM from 'react-dom';\nimport Main from './Main.js'\nimport Shop from './Shop.js'\nimport { Route, Redirect } from 'react-router'\nimport helper from '../helper.js'\n\nclass Authorization extends Component {\n  constructor(props) {\n      super(props)\n      this.state = {\n      login: '',\n      errorMessage: '',\n      isRedirect: false\n      }\n  }\n\n  render() {\n    const db = this.props.db\n    const validateLogin = helper.validateString\n\n  const checkValidateLogin = () =>  {\n    const userDb = db.user\n    const login = this.state.login\n\n    if (!validateLogin(login)) {\n      this.setState({errorMessage: 'Логин содержит запрещенные символы'})\n      return\n    } \n    \n    if (!userDb.getId(login)) {\n      const userId = userDb.insert(login, 100, new Date(Date.now()), 1).id \n      db.userItem.present(userId)\n    }\n\n    userDb.updateCurrentUser(login) \n    this.setState({isRedirect: true})\n  }\n\n    const clickButton = (e) => {\n      const userDb = db.user\n      const login = this.state.login\n\n      e.preventDefault() \n      checkValidateLogin() \n      db.updateUser()\n        \n    }\n\n    return (\n      this.state.isRedirect ? \n      <Redirect to = {Shop.path} /> :\n        <form className = 'login-window'>\n        <h1>Ваш логин</h1>\n          <div className = 'login-window__error-message' class = {this.state.errorMessage ? '' : 'visible'}>{this.state.errorMessage}</div>\n          <input className = 'login-window__input' placeholder = \"login...\" value = {this.state.login} onChange = {(e) => {this.setState({login: e.target.value})}} />\n          <button className = 'login-window__button' onClick = {clickButton}>войти</button>\n        </form>\n    )\n  }\n}\n\nexport default Authorization","import React, {Component} from 'react'\nimport Authorization from './Authorization.js' \n\nclass Login extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Добро пожаловать</h1>\n        <Authorization db = {this.props.db} />\n        {window.Telegram.WebApp.initData && <div style={{display: \"flex\", justifyContent: \"center\", margin: \"30px\", flexDirection: \"column\"}}>\n          <div>Кстати, у тебя проблемы, я знаю как тебя зовут</div>\n          <h1> {window.Telegram.WebApp.initDataUnsafe.user.first_name} {window.Telegram.WebApp.initDataUnsafe.user.second_name}</h1>\n        </div>}\n      </div>\n    )\n  }\n}\n\nexport default Login","const uuid = require('uuid/v4')\n\nclass DataBase {\n  constructor(dataName) {\n    this.dataName = dataName\n    this._datas = JSON.parse(localStorage.getItem(this.dataName)) || []\n    this.FILTER_SEARCH = 'search'\n    this.FILTER_FROM_TO = 'fromTo'\n    this.SORT_BY_DATE = 'sortByDate'\n    this.SORT_BY_NUMBER = 'sortByNumber'\n    this.SORT_BY_STRING = 'sortByString'\n  }\n\n  get dates() {\n    return this._datas\n  }\n  \n  filteredData(action) {\n    return this._datas.filter(data => this.filterDatas(data, action)).sort(this.sortDatas(action))\n  }\n\n  filterDatas(value, action) {\n    const search = (value, key) => element => !!('' + element[key]).toUpperCase().includes(value.toUpperCase())\n    const fromTo = (from, to, key) => element => !!((+element[key] >= +from || !from ) && (+element[key] <= +to || !to))\n    const filters = Object.entries(action.filters).reduce((accumulator, [key, filter]) => {\n      switch(filter.type) {\n        case this.FILTER_SEARCH: return [...accumulator, search(filter.value, key)]\n        case this.FILTER_FROM_TO: return [...accumulator, fromTo(filter.from, filter.to, key)]\n      }\n    }, [])\n\n    return !filters.find(filter => !filter(value))\n  }\n\n\n  sortDatas(action) {\n    const sorting =\n      (action.sortBy !== 'none') ?\n        (key) => (a, b) => {\n          const [firstArg, secondArg] =\n          (typeof a[key] === 'string') && [a[key].toUpperCase(), b[key].toUpperCase()] ||\n          (typeof a[key] === 'number') && [+a[key], +b[key]] || []\n    \n          if (firstArg === secondArg) {\n            return 0\n          } else return (firstArg > secondArg) ? 1 : -1 \n        } :  \n        () => (a, b) => {\n          const firstArg = a.userId === this.sessionUserId()\n          const secondArg = b.userId === this.sessionUserId()\n          \n          if (firstArg === secondArg) {\n            return 0\n          } else return (firstArg > secondArg) ? -1 : 1 \n        }\n\n    return sorting(action.sortBy)\n  }\n\n  find(id) {\n    return this._datas.find((data) => data.id === id)\n  }\n\n  commitСhanges() {\n    localStorage.setItem(this.dataName, JSON.stringify(this.dates))\n  }\n\n  isEmpty(){\n    return !localStorage.getItem(this.dataName)\n  }\n\n  sessionUserId(){\n    return sessionStorage['sessionUserId']\n  }\n\n\n  insert() {\n    let arg = Object.values(arguments)\n    let values = {}\n    let keys = this.arguments\n\n    keys.forEach((key, index) => {\n      values[key] = arg[index] !== undefined ? arg[index] : \"\"\n    })\n    values['id'] = uuid()\n    this._datas.push(values)\n    this.commitСhanges()\n\n    return values\n  }\n\n  pushData(data) {\n    this._datas.push(data)\n    this.commitСhanges()\n  }\n\n  getByColumn(key, value) {\n    return (this._datas.find(data => data[key] === value) || {}).id\n  }\n\n  getIds(key, value) {\n    return this._datas\n      .filter(data => data[key] === value)\n      .map(data => data.id)\n  }\n\n  changeData(id, key, value) {\n    this._datas.forEach((data, index) => {\n      if (data.id === id) {\n        this._datas[index][key] = value\n      }\n    })\n    this.commitСhanges()\n  }\n\n  random(value) {\n    return Math.round(Math.random() * (value - 1) + 1)\n  }\n\n  pushSameValue(value, count) {\n    let result = []\n    for (let i = 1; i <= count; i++) result.push(value)\n    return result\n\n  }\n}\n\nexport default DataBase\n","import DataBase from './db.js'\n\nclass UserDatabase extends DataBase {\n\n  constructor() {\n    super('users')\n    this.LOGIN = 'login'\n    this.MONEY = 'money'\n    this.CREATED = 'created'\n    this.AVATAR = 'avatar'\n    this.arguments = [this.LOGIN, this.MONEY, this.CREATED, this.AVATAR]\n  }\n\n  getId(login) {\n    return this.dates.find(user => user.login.toLowerCase() === login.toLowerCase())\n  }\n\n  generateFakeUsers() {\n    if (this.isEmpty()) {\n      return [\n        this.insert('Lexa', 7800, new Date('2019', '03', '05'), 1).id,\n        this.insert('Oleg', 3, new Date('2019', '03', '06'), 1).id,\n        this.insert('Macho', 8000, new Date('2019', '03', '04'), 1).id,\n        ...Array(42).fill(0).map((bot, index) => this.insert('bot' + index, 8000, new Date('2019', '03', '07'), 1).id)\n      ]\n    } else return []\n  }\n\n  getCurrentUser() {\n    return this.find(this.sessionUserId()) || null\n  }\n\n  updateCurrentUser(login) {\n    sessionStorage['sessionUserId'] = this.getId(login).id\n  }\n\n  addMoney(money) {\n    const id = this.sessionUserId()\n    const userMoney = +super.find(id).money\n    this.changeData(id, 'money', userMoney + +money)\n  }\n}\n\nexport default UserDatabase\n","import DataBase from './db.js'\n\nclass ItemDatabase extends DataBase {\n  constructor() {\n    super('items')\n    this.arguments = ['name', 'iconPath']\n  }\n\n  generateItems() {\n    if (this.isEmpty()) {\n      this.insert('Меч короля', './img/item_sword.jpg')\n      this.insert('Шпора Матан', './img/item_shpora.jpg')\n    }\n  }\n\n}\n\nexport default ItemDatabase\n","import DataBase from './db.js'\n\nclass UserItemDatabase extends DataBase {\n    constructor(userDb, itemDb) {\n        super('userItem')\n        this.userDb = userDb\n        this.itemDb = itemDb\n        this.arguments = ['userId', 'itemId']\n      }\n\n      addItem(userId, itemId) {\n        if(!this.userDb.find(userId) && !this.itemDb.find(itemId)) return null\n        this.insert(userId, itemId)\n      }\n\n      present(user) {\n        const presents = [\n        this.itemDb.getByColumn('name', 'Меч короля'),\n        this.itemDb.getByColumn('name', 'Шпора Матан')\n        ]\n\n        const presentsAdd = [...this.pushSameValue(presents[0], this.random(4)), ...this.pushSameValue(presents[1], this.random(2))]\n          .sort((a, b) => Math.random() -0.5)\n        presentsAdd.forEach(present => this.addItem(user, present))\n      }\n\n      presentAllUsers(arrIds) {\n        if (arrIds) arrIds.forEach(id => this.present(id))\n      }\n\n      getItems(userId) {\n        return this.dates\n          .filter(userItem => userItem.userId === userId)\n          .map(userItem => {return {item: this.itemDb.find(userItem.itemId), userItemId: userItem.id}})\n      }\n}\n\nexport default UserItemDatabase","import DataBase from './db.js'\nimport helper from '../helper.js'\n\nconst NEW = 'new'\nconst CANCELLED = 'cancelled'\nconst COMPLETED = 'completed'\n\nclass Order extends DataBase {\n  constructor(userItemDb) {\n    super('order')\n    this.userItemDb = userItemDb\n    this.PRICE = 'price'\n    this.arguments = ['userId', 'itemId', 'userItemId', this.PRICE, 'status', 'created', 'updated']\n  }\n\n  addOrder(itemUserId, price) {\n    const dateNow = new Date(Date.now())\n    const data = this.userItemDb.find(itemUserId)\n    this.insert(data.userId, data.itemId, itemUserId, price, NEW , dateNow, dateNow)\n  }\n\n  generateOrders() {\n    if (this.isEmpty()) {\n      const prices = [30, 40, 120, 150]\n      const users = Array(4).fill(0).map((userId, index) => this.userItemDb.userDb._datas[index + 3].id)\n      const items = [\n        this.userItemDb.itemDb.getByColumn('name', 'Шпора Матан'),\n        this.userItemDb.itemDb.getByColumn('name', 'Меч короля')\n      ]\n      const userItemId = users.forEach((user, index) => {\n        this.addOrder(\n          this.userItemDb.getItems(user)\n            .find(item => item.item.id === [...items, ...items][index]).userItemId,\n          prices[index]\n        )\n      })\n    }\n  }\n\n  getItemsInventory(userId, action) {\n    return this._datas\n      .reduce((accumulator, order) => {\n        order.login = this.userItemDb.itemDb.find(order.itemId).name\n        if (order.status === NEW) {\n          const itemId = this.userItemDb.find(order.userItemId).itemId\n          const item = this.userItemDb.itemDb.find(itemId)\n          const value = {\n            name: item.name, \n            iconPath: item.iconPath, \n            price: order.price, \n            orderId: order.id, \n            login: order.login, \n            userId: order.userId,\n            isUserSession: order.userId === this.sessionUserId()\n          }\n          return (this.filterDatas(value, action)) ? [...accumulator, value] : accumulator\n        } else return accumulator\n      }, [])\n        .sort(this.sortDatas(action))\n  }\n\n  newOrders(userId) {\n    return this._datas.filter(order => order.userId === userId && order.status === NEW)\n  }\n\n  cancel(orderId) {\n    this.changeData(orderId, 'status', CANCELLED )\n  }\n\n  toSell(orderId, userId) {\n    const sellerId = this.find(orderId).userId\n    const userBalance = this.userItemDb.userDb.find(userId).money\n    const sellerBalance = this.userItemDb.userDb.find(sellerId).money\n    const price = this.find(orderId).price\n\n    if (userBalance < price) return {userBalance: userBalance, price: price, lacks: price - userBalance }\n    this.userItemDb.changeData(this.find(orderId).userItemId, 'userId', userId)\n    this.changeData(orderId, 'status', COMPLETED )\n    this.userItemDb.userDb.changeData(userId, 'money', helper.sumMoney(userBalance, -price))\n    this.userItemDb.userDb.changeData(sellerId, 'money', helper.sumMoney(sellerBalance, price))\n    return null\n  }\n\n\n}\nexport default Order","import React, {Component} from 'react'\nimport { Link } from 'react-router-dom'\nimport { Redirect } from 'react-router'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Money from './Money'\nimport Shop from './Shop'\n\nconst NORMAL = \"normal\"\nconst SUCCESS = \"success\"\nconst ERROR = \"error\"\n\nclass Balance extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      input: '',\n      action: NORMAL,\n      err: ''\n    }\n  }\n\n  getCash(val) {\n    const reg = /^[0-9]+(\\.[0-9]{1,2})?$/i\n    return val.match(reg) ? +val.match(reg)['input'] : null\n  }\n\n  cashValidate(val) { \n    return val <= 1000\n  }\n\n  clickButton(e) {\n    e.preventDefault() \n    let cash = this.getCash(this.state.input)\n    if (cash) {\n      if(this.cashValidate(cash)) {\n        this.props.db.user.addMoney(cash)\n        this.setState({action: SUCCESS})\n        this.props.db.updateUser()\n      } else {\n        this.setState({action: ERROR, err: 'Нельзя пополнять больше 1000', input: ''})\n      }\n    } else {\n        this.setState({action: ERROR, err: 'Невалидные данные', input: ''})\n      } \n    }\n\n  render() {\n    const norm = (\n      <form className = \"balance-window\">\n        <div>{'Ваш баланс:'}</div>\n        <Money money = {(this.props.user && this.props.user.money)} />\n        <input className = 'balance-window__input' value = {this.state.input} onChange = {(e) => {this.setState({input: e.target.value})}}/>\n        <button className = \"balance-window__button\" onClick = {(e) => this.clickButton(e)}>Пополнить баланс</button>\n      </form>\n    )\n\n    const success = (\n      <div className = 'message-window'>\n        <h1 >Успех! Баланс пополнен</h1>\n        <h2 className = 'black-message' >  <Money money = {this.state.input} /></h2>\n        <form id = 'authorization-form'>\n          <Link to = {Shop.path}><button id = 'button-login'  className = \"button\" >ок</button> </Link>\n        </form>\n      </div>\n    )\n\n    const error = (\n      <div className = 'message-window'>\n        <h1 id = 'headline-login'>Неудача</h1>\n        <h2 className = 'black-message' >  {this.state.err}</h2>\n        <form id = 'authorization-form'>\n          <button id = 'button-login'  className = \"button\" onClick = {e => {e.preventDefault(); this.setState({action: NORMAL})}}>ок</button>\n        </form>\n      </div>\n    )\n\n     const render = () => {\n        switch(this.state.action) {\n          case NORMAL: return norm;\n          case SUCCESS: return success;\n          case ERROR: return error;\n        }\n      } \n\n     return (!this.props.user ? \n        <Redirect to=\"/login\" /> :\n        <div id = 'wrapper'>\n          <Header user = {this.props.user} db = {this.props.db} />\n            <div id = \"content\">\n              {render()}\n            </div>\n          <Footer />\n        </div>)\n\n  }\n}\n\nexport default Balance ","import React, { Component } from 'react'\nimport {BrowserRouter as Router, Route, Switch, Redirect, Link, withRouter, HashRouter} from 'react-router-dom'\nimport Main from './components/Main.js'\nimport Login from './components/Login.js'\nimport Shop from './components/Shop.js'\nimport UserDatabase from './data/UserDatabase.js'\nimport ItemDatabase from './data/ItemDatabase.js'\nimport UserItemDatabase from './data/UserItemDatabase.js'\nimport Order from './data/OrderDatabase.js'\nimport Balance from './components/Balance.js'\nimport Inventory from './components/Inventory.js'\nimport Users from './components/Users.js'\n\nconst userDb = new UserDatabase()\nconst itemDb = new ItemDatabase()\n\nconst FakeUserIds = userDb.generateFakeUsers()\nitemDb.generateItems()\n\nconst userItemDb = new UserItemDatabase(userDb, itemDb)\nuserItemDb.presentAllUsers(FakeUserIds)\nuserItemDb.presentAllUsers(FakeUserIds[0] ? Array(10).fill(FakeUserIds[0]) : FakeUserIds) //delete\n\nconst OrderDb = new Order(userItemDb)\n\nOrderDb.generateOrders()\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.db = {\n      user: userDb,\n      item: itemDb,\n      userItem: userItemDb,\n      order: OrderDb,\n      updateUser: () => this.updateUser(),\n    }\n    this.user = this.db.user.getCurrentUser()\n    this.state = {\n      user: this.user\n    }\n  }\n\n  updateUser() {\n      this.setState({user: this.db.user.getCurrentUser()})\n  }\n\n\n  render() {\n\n    const main = (props) => <Main user = {userDb} />\n    const login = (props) => <Login db = {this.db} />\n    const shop = ({match}) => <Shop user = {this.state.user} db = {this.db} page = {match.params.page} />\n    const balance = (props) => <Balance user = {this.state.user} db = {this.db} />\n    const inventory = ({match}) => <Inventory user = {this.state.user} db = {this.db} page = {match.params.page} />\n    const users = ({match}) => <Users user = {this.state.user} db = {this.db} page = {match.params.page} />\n\n    return (\n      <HashRouter>\n        <Switch>\n            <Route exact path = '/' render = {main} />\n            <Route path = {Shop.path + '/:page'} component = {shop} />\n            <Route exact path = {Shop.path} component = {shop} />\n            <Route path = {Inventory.path + '/:page'} component = {inventory} />\n            <Route exact path = {Inventory.path} component = {inventory} />\n            <Route path = '/balance' render = {balance} />\n            <Route path = '/login' render = {login} />\n            <Route path = {Users.path + '/:page'} component = {users} />\n            <Route exact path = {Users.path} component = {users} />\n            <Route render = {login} />\n\n        </Switch>\n      </HashRouter>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}